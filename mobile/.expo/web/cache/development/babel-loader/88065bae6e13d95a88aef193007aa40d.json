{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport API from \"../../api\";\nimport { Picker } from 'react-native-woodpicker';\n\nvar SignupScreen = function SignupScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      name = _useState6[0],\n      setName = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      email = _useState8[0],\n      setEmail = _useState8[1];\n\n  var _useState9 = useState(true),\n      _useState10 = _slicedToArray(_useState9, 2),\n      city = _useState10[0],\n      setCity = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      state = _useState12[0],\n      setState = _useState12[1];\n\n  var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      zipcode = _useState14[0],\n      setZipcode = _useState14[1];\n\n  var _useState15 = useState(),\n      _useState16 = _slicedToArray(_useState15, 2),\n      schoolYear = _useState16[0],\n      setSchoolYear = _useState16[1];\n\n  var _useState17 = useState(),\n      _useState18 = _slicedToArray(_useState17, 2),\n      activities = _useState18[0],\n      setActivities = _useState18[1];\n\n  var _useState19 = useState(),\n      _useState20 = _slicedToArray(_useState19, 2),\n      preferences = _useState20[0],\n      setPreferences = _useState20[1];\n\n  var _useState21 = useState(),\n      _useState22 = _slicedToArray(_useState21, 2),\n      isAdmin = _useState22[0],\n      setIsAdmin = _useState22[1];\n\n  var _useState23 = useState(true),\n      _useState24 = _slicedToArray(_useState23, 2),\n      isLoading = _useState24[0],\n      setIsLoading = _useState24[1];\n\n  var _useState25 = useState(false),\n      _useState26 = _slicedToArray(_useState25, 2),\n      disabled = _useState26[0],\n      setDisabled = _useState26[1];\n\n  var _useState27 = useState(false),\n      _useState28 = _slicedToArray(_useState27, 2),\n      submitted = _useState28[0],\n      setSubmitted = _useState28[1];\n\n  var _useState29 = useState(false),\n      _useState30 = _slicedToArray(_useState29, 2),\n      isError = _useState30[0],\n      setError = _useState30[1];\n\n  var SCHOOLYEAR = [{\n    label: \"Select School Year\",\n    value: -1\n  }, {\n    label: \"Freshman\",\n    value: 2\n  }, {\n    label: \"Sophomore\",\n    value: 3\n  }, {\n    label: \"Junior\",\n    value: 4\n  }, {\n    label: \"Senior\",\n    value: 5\n  }];\n\n  var goHome = function goHome() {\n    navigation.navigate(\"Login\");\n  };\n\n  var onSubmit = function onSubmit() {\n    var res;\n    return _regeneratorRuntime.async(function onSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(username == null || password == null || name == null || email == null || city == null || state == null || zipcode == null || schoolYear == null)) {\n              _context.next = 3;\n              break;\n            }\n\n            setError(true);\n            return _context.abrupt(\"return\");\n\n          case 3:\n            _context.prev = 3;\n            setDisabled(true);\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(axios.post(\"http://\" + API + \":8080/api/signup\", {\n              username: username,\n              password: password,\n              name: username,\n              email: email,\n              city: city,\n              state: state,\n              zipcode: zipcode,\n              schoolYear: schoolYear,\n              activities: activities,\n              preferences: preferences,\n              isAdmin: false\n            }));\n\n          case 7:\n            res = _context.sent;\n            setIsLoading(false);\n\n            if (!(res.status != 200)) {\n              _context.next = 13;\n              break;\n            }\n\n            setAuthStatus(\"denied\");\n            console.log(\"denied\");\n            return _context.abrupt(\"return\");\n\n          case 13:\n            _context.prev = 13;\n            _context.next = 16;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('user', JSON.stringify(res.data)));\n\n          case 16:\n            console.log(res.data);\n            _context.next = 21;\n            break;\n\n          case 19:\n            _context.prev = 19;\n            _context.t0 = _context[\"catch\"](13);\n\n          case 21:\n            setSubmitted(true);\n            _context.next = 27;\n            break;\n\n          case 24:\n            _context.prev = 24;\n            _context.t1 = _context[\"catch\"](3);\n            console.log(_context.t1.message);\n\n          case 27:\n            setDisabled(false);\n\n          case 28:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[3, 24], [13, 19]], Promise);\n  };\n\n  return submitted ? React.createElement(TouchableWithoutFeedback, {\n    onPress: goHome\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      backgroundColor: \"white\"\n    }\n  }, React.createElement(Text, {\n    style: {\n      position: \"absolute\",\n      top: \"45%\",\n      fontSize: 25,\n      fontWeight: \"500\",\n      color: \"#FF3008\"\n    }\n  }, \"Successfully Signed Up!\"), React.createElement(Text, {\n    style: {\n      marginTop: 20,\n      color: \"gray\"\n    }\n  }, \"Click Anywhere to Log in!\"))) : React.createElement(KeyboardAvoidingView, {\n    behavior: Platform.OS === \"ios\" ? \"padding\" : \"height\",\n    style: styles.container\n  }, React.createElement(TouchableWithoutFeedback, {\n    onPress: Keyboard.dismiss\n  }, React.createElement(ScrollView, {\n    style: {\n      marginTop: 40\n    }\n  }, React.createElement(View, {\n    style: styles.inner\n  }, React.createElement(Text, {\n    style: styles.header\n  }, \"Become a Workout Partner!\"), React.createElement(View, null, React.createElement(Text, {\n    style: styles.label\n  }, \"General Info:\"), React.createElement(Text, {\n    style: styles.label\n  }), React.createElement(TextInput, {\n    onChangeText: setUsername,\n    value: username,\n    placeholderTextColor: \"#ffc3b8\",\n    placeholder: \"Username\",\n    style: styles.textInput\n  }), React.createElement(TextInput, {\n    onChangeText: setPassword,\n    value: password,\n    placeholderTextColor: \"#ffc3b8\",\n    placeholder: \"Password\",\n    style: styles.textInput\n  }), React.createElement(TextInput, {\n    onChangeText: setName,\n    value: name,\n    placeholderTextColor: \"#ffc3b8\",\n    placeholder: \"Name\",\n    style: styles.textInput\n  }), React.createElement(TextInput, {\n    onChangeText: setEmail,\n    value: email,\n    placeholderTextColor: \"#ffc3b8\",\n    placeholder: \"Email\",\n    style: styles.textInput\n  }), React.createElement(TextInput, {\n    onChangeText: setCity,\n    value: city,\n    placeholderTextColor: \"#ffc3b8\",\n    placeholder: \"City\",\n    style: styles.textInput\n  }), React.createElement(TextInput, {\n    onChangeText: setState,\n    value: state,\n    placeholderTextColor: \"#ffc3b8\",\n    placeholder: \"State\",\n    style: styles.textInput\n  }), React.createElement(TextInput, {\n    onChangeText: setZipcode,\n    value: zipcode,\n    placeholderTextColor: \"#ffc3b8\",\n    placeholder: \"Zipcode\",\n    style: styles.textInput\n  }), React.createElement(Picker, {\n    containerStyle: styles.picker,\n    item: schoolYear,\n    items: SCHOOLYEAR,\n    onItemChange: setSchoolYear,\n    title: \"School Year\",\n    placeholder: \"Select School Year\",\n    style: {\n      flex: 1,\n      textAlign: \"right\"\n    },\n    isNullable: true\n  }), React.createElement(Text, {\n    style: styles.label\n  }, \"Optional:\"), React.createElement(Text, {\n    style: styles.label\n  }), React.createElement(TextInput, {\n    onChangeText: setActivities,\n    value: activities,\n    placeholderTextColor: \"#ffc3b8\",\n    placeholder: \"(Activities Option To Be Implemented)\",\n    style: styles.textInput\n  }), React.createElement(TextInput, {\n    onChangeText: setPreferences,\n    value: preferences,\n    placeholderTextColor: \"#ffc3b8\",\n    placeholder: \"(Preferences Option To Be Implemented)\",\n    style: styles.textInput\n  })), isError ? React.createElement(Text, {\n    style: {\n      color: \"blue\"\n    }\n  }, \"* Sign up Failed. Please fill in all the blanks.\") : React.createElement(Text, null), React.createElement(View, {\n    style: styles.btnContainer\n  }, React.createElement(Button, {\n    color: \"white\",\n    disabled: disabled,\n    title: \"Create\",\n    onPress: onSubmit\n  }), React.createElement(Button, {\n    color: \"white\",\n    title: \"Already have an account?\",\n    onPress: function onPress() {\n      return navigation.navigate(\"Login\");\n    }\n  }))))));\n};\n\nexport default SignupScreen;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#344955\"\n  },\n  checkboxContainer: {\n    flexDirection: \"row\",\n    marginBottom: 20\n  },\n  checkbox: {\n    marginLeft: 100,\n    alignSelf: \"center\",\n    backgroundColor: \"white\",\n    borderColor: \"white\",\n    borderWidth: 4,\n    width: 10,\n    height: 10\n  },\n  label: {\n    marginTop: 8,\n    color: \"white\",\n    fontWeight: \"600\"\n  },\n  inner: {\n    padding: 24,\n    flex: 1,\n    justifyContent: \"space-around\"\n  },\n  header: {\n    fontSize: 36,\n    fontWeight: \"300\",\n    marginBottom: 48,\n    color: \"white\"\n  },\n  textInput: {\n    height: 40,\n    color: \"white\",\n    borderColor: \"white\",\n    borderBottomWidth: 1,\n    marginBottom: 50\n  },\n  btnContainer: {\n    marginTop: 12\n  },\n  picker: {\n    width: 300,\n    height: 45,\n    borderColor: 'blue',\n    borderWidth: 2,\n    backgroundColor: 'grey',\n    color: 'white'\n  }\n});","map":{"version":3,"sources":["/Users/adiash/Documents/CS506/fitr-506/mobile/screens/auth/signupScreen.js"],"names":["React","useState","API","Picker","SignupScreen","navigation","username","setUsername","password","setPassword","name","setName","email","setEmail","city","setCity","state","setState","zipcode","setZipcode","schoolYear","setSchoolYear","activities","setActivities","preferences","setPreferences","isAdmin","setIsAdmin","isLoading","setIsLoading","disabled","setDisabled","submitted","setSubmitted","isError","setError","SCHOOLYEAR","label","value","goHome","navigate","onSubmit","axios","post","res","status","setAuthStatus","console","log","AsyncStorage","setItem","JSON","stringify","data","message","flex","justifyContent","alignItems","backgroundColor","position","top","fontSize","fontWeight","color","marginTop","Platform","OS","styles","container","Keyboard","dismiss","inner","header","textInput","picker","textAlign","btnContainer","StyleSheet","create","checkboxContainer","flexDirection","marginBottom","checkbox","marginLeft","alignSelf","borderColor","borderWidth","width","height","padding","borderBottomWidth"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { View, KeyboardAvoidingView, SafeAreaView, ScrollView, TextInput, StyleSheet, Text, Platform, TouchableWithoutFeedback, Button, Keyboard } from 'react-native';\n// import { Checkbox } from 'react-native-paper';\n// import axios from \"axios\";\nimport API from \"../../api\";\nimport { Picker } from 'react-native-woodpicker'\n\n\nconst SignupScreen = ({ navigation }) => {\n  const [username, setUsername] = useState();\n  const [password, setPassword] = useState();\n  const [name, setName] = useState();\n  const [email, setEmail] = useState();\n  const [city, setCity] = useState(true);\n  const [state, setState] = useState();\n  const [zipcode, setZipcode] = useState();\n  const [schoolYear, setSchoolYear] = useState();\n  const [activities, setActivities] = useState();\n  const [preferences, setPreferences] = useState();\n  const [isAdmin, setIsAdmin] = useState();\n  const [isLoading, setIsLoading] = useState(true);\n  const [disabled, setDisabled] = useState(false);\n  const [submitted, setSubmitted] = useState(false);\n  const [isError, setError] = useState(false);\n\n  const SCHOOLYEAR = [\n    { label: \"Select School Year\", value: -1 },\n    { label: \"Freshman\", value: 2 },\n    { label: \"Sophomore\", value: 3 },\n    { label: \"Junior\", value: 4 },\n    { label: \"Senior\", value: 5 },]\n\n  const goHome = () => {\n    navigation.navigate(\"Login\");\n  }\n\n  const onSubmit = async () => {\n\n    if(username == null|| password == null || name == null || email == null || city == null || state == null || zipcode == null ||schoolYear == null) {\n      setError(true);\n      return;\n    }\n\n    try {\n      setDisabled(true);\n      const res = await axios.post(`http://${API}:8080/api/signup`,\n        {\n          username: username,\n          password: password,\n          name: username,\n          email: email,\n          city: city,\n          state: state,\n          zipcode: zipcode,\n          schoolYear: schoolYear,\n          activities: activities,\n          preferences: preferences,\n          isAdmin: false\n        });\n      setIsLoading(false);\n\n\n      if (res.status != 200) {\n        setAuthStatus(\"denied\");\n        console.log(\"denied\");\n        return;\n      }\n      try {\n        await AsyncStorage.setItem('user', JSON.stringify(res.data))\n        console.log(res.data);\n      } catch (e) {\n        // saving error\n      }\n\n      setSubmitted(true);\n    } catch (e) {\n      console.log(e.message);\n    }\n    setDisabled(false);\n  }\n\n// Change Create button to {onSubmit}\n\n\n  return (submitted) ?\n    (\n      <TouchableWithoutFeedback onPress={goHome}>\n        <View style={{ flex: 1, justifyContent: \"center\", alignItems: \"center\", backgroundColor: \"white\" }}>\n          <Text style={{ position: \"absolute\", top: \"45%\", fontSize: 25, fontWeight: \"500\", color: \"#FF3008\" }}>\n            Successfully Signed Up!\n          </Text>\n          <Text style={{ marginTop: 20, color: \"gray\" }}>Click Anywhere to Log in!</Text>\n        </View>\n      </TouchableWithoutFeedback>\n    )\n    : (\n      <KeyboardAvoidingView\n        behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\n        style={styles.container}\n      >\n        <TouchableWithoutFeedback onPress={Keyboard.dismiss}>\n          <ScrollView style={{ marginTop: 40 }}>\n            <View style={styles.inner}>\n              <Text style={styles.header}>Become a Workout Partner!</Text>\n              <View>\n                <Text style={styles.label}>General Info:</Text>\n                <Text style={styles.label}></Text>\n\n                <TextInput onChangeText={setUsername} value={username} placeholderTextColor=\"#ffc3b8\" placeholder=\"Username\" style={styles.textInput} />\n                <TextInput onChangeText={setPassword} value={password} placeholderTextColor=\"#ffc3b8\" placeholder=\"Password\" style={styles.textInput} />\n                <TextInput onChangeText={setName} value={name} placeholderTextColor=\"#ffc3b8\" placeholder=\"Name\" style={styles.textInput} />\n                <TextInput onChangeText={setEmail} value={email} placeholderTextColor=\"#ffc3b8\" placeholder=\"Email\" style={styles.textInput} />\n                <TextInput onChangeText={setCity} value={city} placeholderTextColor=\"#ffc3b8\" placeholder=\"City\" style={styles.textInput} />\n                <TextInput onChangeText={setState} value={state} placeholderTextColor=\"#ffc3b8\" placeholder=\"State\" style={styles.textInput} />\n                <TextInput onChangeText={setZipcode} value={zipcode} placeholderTextColor=\"#ffc3b8\" placeholder=\"Zipcode\" style={styles.textInput} />\n                <Picker\n                  containerStyle={styles.picker}\n                  item={schoolYear}\n                  items={SCHOOLYEAR}\n                  onItemChange={setSchoolYear}\n                  title=\"School Year\"\n                  placeholder=\"Select School Year\"\n                  style={{ flex: 1, textAlign: \"right\" }}\n                  isNullable\n                />\n                <Text style={styles.label}>Optional:</Text>\n                <Text style={styles.label}></Text>\n                <TextInput onChangeText={setActivities} value={activities} placeholderTextColor=\"#ffc3b8\" placeholder=\"(Activities Option To Be Implemented)\" style={styles.textInput} />\n                <TextInput onChangeText={setPreferences} value={preferences} placeholderTextColor=\"#ffc3b8\" placeholder=\"(Preferences Option To Be Implemented)\" style={styles.textInput} />\n              </View>\n\n              {(isError)?(<Text style={{color:\"blue\"}}>* Sign up Failed. Please fill in all the blanks.</Text>):<Text/>}\n\n\n              <View style={styles.btnContainer}>\n                <Button color=\"white\" disabled={disabled} title=\"Create\" onPress={onSubmit} />\n                <Button color=\"white\" title=\"Already have an account?\" onPress={() => navigation.navigate(\"Login\")} />\n              </View>\n            </View>\n          </ScrollView>\n        </TouchableWithoutFeedback>\n      </KeyboardAvoidingView>\n    );\n}\n\nexport default SignupScreen;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#344955\"\n  },\n  checkboxContainer: {\n    flexDirection: \"row\",\n    marginBottom: 20,\n  },\n  checkbox: {\n    marginLeft: 100,\n    alignSelf: \"center\",\n    backgroundColor: \"white\",\n    borderColor: \"white\",\n    borderWidth: 4,\n    width: 10,\n    height: 10\n  },\n  label: {\n    marginTop: 8,\n    color: \"white\",\n    fontWeight: \"600\"\n  },\n  inner: {\n    padding: 24,\n    flex: 1,\n    justifyContent: \"space-around\"\n  },\n  header: {\n    fontSize: 36,\n    fontWeight: \"300\",\n    marginBottom: 48,\n    color: \"white\",\n  },\n  textInput: {\n    height: 40,\n    color: \"white\",\n    borderColor: \"white\",\n    borderBottomWidth: 1,\n    marginBottom: 50\n  },\n  btnContainer: {\n    marginTop: 12\n  },\n  picker: { // new\n    width: 300,\n    height: 45,\n    borderColor: 'blue',\n    borderWidth: 2,\n    backgroundColor: 'grey',\n    color: 'white'\n  }\n});"]},"metadata":{},"sourceType":"module"}