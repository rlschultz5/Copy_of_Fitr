{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useState, useEffect } from 'react';\nimport WorkoutList from \"./workoutList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Filter from \"./filter\";\nimport { Ionicons } from '@expo/vector-icons';\nimport API from \"../../api.js\";\nimport axios from \"axios\";\nvar DUMMY = [{\n  title: \"4v4 Basketball at the Nick!\",\n  level: \"All\",\n  sports: \"Basketball\",\n  location: \"Nick court 3\",\n  capacity: 8,\n  filled: 3\n}, {\n  title: \"Casual Jog around Campus\",\n  level: \"All\",\n  sports: \"Running\",\n  location: \"College Library\",\n  capacity: 12,\n  filled: 3\n}];\nexport default function HomeScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      workouts = _useState2[0],\n      setWorkouts = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showFilter = _useState4[0],\n      setShowFilter = _useState4[1];\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      filter = _useState6[0],\n      setFilter = _useState6[1];\n\n  var _useState7 = useState(true),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loading = _useState8[0],\n      setLoading = _useState8[1];\n\n  useEffect(function () {\n    var getWorkouts = function getWorkouts() {\n      var extractedFilter, key, res;\n      return _regeneratorRuntime.async(function getWorkouts$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              extractedFilter = {};\n\n              for (key in filter) {\n                if (filter[key] && filter[key].value != -1 && filter[key] != \"\") {\n                  extractedFilter[key] = filter[key].label;\n                }\n              }\n\n              console.log(extractedFilter);\n              _context.prev = 4;\n              _context.next = 7;\n              return _regeneratorRuntime.awrap(axios.post(\"http://\" + API + \":8080/api/workout/getWorkouts\", {\n                fields: extractedFilter\n              }));\n\n            case 7:\n              res = _context.sent;\n              setWorkouts(res.data.data);\n              console.log(res.data.data);\n              setLoading(false);\n              _context.next = 16;\n              break;\n\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](4);\n              console.log(_context.t0.message);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[4, 13]], Promise);\n    };\n\n    getWorkouts();\n  }, [filter]);\n  return React.createElement(View, {\n    style: styles.container\n  }, React.createElement(View, {\n    style: styles.grid\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      flexDirection: \"row\"\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 30,\n      fontWeight: \"700\"\n    }\n  }, \" Fitr \"), React.createElement(Image, {\n    resizeMode: \"contain\",\n    style: {\n      width: 30,\n      height: 30,\n      top: \"1%\",\n      left: 10\n    },\n    source: require(\"../../assets/logo.png\")\n  })), React.createElement(Pressable, {\n    onPress: function onPress() {\n      return navigation.navigate(\"Profile\");\n    }\n  }, React.createElement(Ionicons, {\n    size: 30,\n    name: \"person-circle-outline\"\n  }))), React.createElement(Pressable, {\n    style: {\n      backgroundColor: \"#004275\",\n      justifyContent: \"center\",\n      height: 50,\n      margin: 15,\n      marginTop: 25,\n      borderRadius: 10\n    },\n    onPress: function onPress() {\n      navigation.navigate(\"Create Workout\");\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"white\",\n      alignSelf: \"center\",\n      fontWeight: \"500\",\n      fontSize: 15\n    }\n  }, \"Create Workout\")), React.createElement(View, {\n    style: styles.listContainer\n  }, React.createElement(Text, {\n    style: styles.title\n  }, \"Workouts Available: \")), React.createElement(Pressable, {\n    onPress: function onPress() {\n      return setShowFilter(true);\n    }\n  }, React.createElement(View, {\n    style: styles.filterBtn\n  }, React.createElement(Text, {\n    style: styles.filterBtnText\n  }, filter.activity ? filter.activity.label : \"Set Filter\"))), React.createElement(Filter, {\n    visible: showFilter,\n    setVisible: setShowFilter,\n    filter: filter,\n    setFilter: setFilter\n  }), loading ? React.createElement(Text, null, \" Loading... \") : React.createElement(WorkoutList, {\n    data: workouts,\n    navigation: navigation\n  }), React.createElement(StatusBar, {\n    style: \"auto\"\n  }));\n}\nvar styles = StyleSheet.create({\n  grid: {\n    padding: \"5%\",\n    paddingBottom: \"3%\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    borderBottomColor: \"#d9d9d9\",\n    borderBottomWidth: 1\n  },\n  filterBtnText: {\n    alignSelf: \"center\"\n  },\n  filterBtn: {\n    alignSelf: \"center\",\n    borderColor: \"grey\",\n    borderWidth: 1,\n    borderRadius: 15,\n    height: 30,\n    width: \"60%\",\n    justifyContent: \"center\",\n    marginBottom: 20\n  },\n  container: {\n    paddingTop: 30,\n    flex: 1,\n    backgroundColor: '#fff'\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: \"600\"\n  },\n  listContainer: {\n    padding: 20\n  }\n});","map":{"version":3,"sources":["/Users/adiash/Documents/CS506/fitr-506/mobile/screens/home/homeScreen.js"],"names":["StatusBar","React","useState","useEffect","WorkoutList","Filter","Ionicons","API","axios","DUMMY","title","level","sports","location","capacity","filled","HomeScreen","navigation","workouts","setWorkouts","showFilter","setShowFilter","filter","setFilter","loading","setLoading","getWorkouts","extractedFilter","key","value","label","console","log","post","fields","res","data","message","styles","container","grid","flex","flexDirection","fontSize","fontWeight","width","height","top","left","require","navigate","backgroundColor","justifyContent","margin","marginTop","borderRadius","color","alignSelf","listContainer","filterBtn","filterBtnText","activity","StyleSheet","create","padding","paddingBottom","borderBottomColor","borderBottomWidth","borderColor","borderWidth","marginBottom","paddingTop"],"mappings":"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","sourcesContent":["import { StatusBar } from 'expo-status-bar';\nimport React, { useState, useEffect } from 'react';\nimport WorkoutList from './workoutList';\nimport { StyleSheet, Text, View, Pressable, Image, Button } from 'react-native';\nimport Filter from './filter';\nimport { Ionicons } from '@expo/vector-icons';\nimport API from \"../../api.js\"\nimport axios from \"axios\";\n\nconst DUMMY = [{\n  title: \"4v4 Basketball at the Nick!\",\n  level: \"All\",\n  sports: \"Basketball\",\n  location: \"Nick court 3\",\n  capacity: 8,\n  filled: 3\n}, {\n  title: \"Casual Jog around Campus\",\n  level: \"All\",\n  sports: \"Running\",\n  location: \"College Library\",\n  capacity: 12,\n  filled: 3\n}]\n\nexport default function HomeScreen({ navigation }) {\n\n  const [workouts, setWorkouts] = useState({});\n  const [showFilter, setShowFilter] = useState(false);\n  const [filter, setFilter] = useState({});\n  const [loading,setLoading] = useState(true);\n\n  useEffect(()=>{\n    const getWorkouts = async () => {\n      setLoading(true);\n      let extractedFilter = {};\n      for(let key in filter) {\n        if( filter[key] && filter[key].value != -1 && filter[key] != \"\" ) {\n          extractedFilter[key] = filter[key].label;\n        }\n      }\n      console.log(extractedFilter);\n      try{\n      const res = await axios.post(`http://${API}:8080/api/workout/getWorkouts`, {\n        fields:extractedFilter\n      });\n      setWorkouts(res.data.data);\n      console.log(res.data.data)\n      setLoading(false);\n      } catch (e) {\n        console.log(e.message);\n      }\n    }\n    getWorkouts();\n  },[filter])\n\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.grid}>\n        <View style={{ flex: 1, flexDirection: \"row\" }}>\n          <Text style={{ fontSize: 30, fontWeight: \"700\" }}> Fitr </Text>\n          <Image resizeMode=\"contain\" style={{ width: 30, height: 30, top: \"1%\", left: 10 }} source={require(\"../../assets/logo.png\")} />\n\n        </View>\n\n        <Pressable onPress={() => navigation.navigate(\"Profile\")}>\n          <Ionicons size={30} name=\"person-circle-outline\" />\n        </Pressable>\n\n      </View>\n\n      <Pressable style={{backgroundColor:\"#004275\", justifyContent:\"center\",height:50, margin:15, marginTop: 25, borderRadius:10}}\n      onPress={()=>{navigation.navigate(\"Create Workout\")}}>\n        <Text style={{color:\"white\", alignSelf:\"center\", fontWeight:\"500\", fontSize:15}}>\n          Create Workout\n        </Text>\n\n      </Pressable>\n      <View style={styles.listContainer}>\n        <Text style={styles.title}>Workouts Available: </Text>\n\n      </View>\n\n      <Pressable onPress={() => setShowFilter(true)}>\n        <View style={styles.filterBtn}>\n          <Text style={styles.filterBtnText}>\n            {(filter.activity)?filter.activity.label:\"Set Filter\"}\n          </Text>\n        </View>\n      </Pressable>\n\n      <Filter visible={showFilter} setVisible={setShowFilter} filter={filter} setFilter={setFilter} />\n\n      {(loading)?\n  (<Text> Loading... </Text>):<WorkoutList data={workouts} navigation={navigation}/>}\n\n      <StatusBar style=\"auto\" />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  grid: {\n    padding: \"5%\",\n    paddingBottom: \"3%\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    borderBottomColor: \"#d9d9d9\",\n    borderBottomWidth: 1\n  },\n  filterBtnText: {\n    alignSelf: \"center\",\n  },\n  filterBtn: {\n    alignSelf: \"center\",\n    borderColor: \"grey\",\n    borderWidth: 1,\n    borderRadius: 15,\n    height: 30,\n    width: \"60%\",\n    justifyContent: \"center\",\n    marginBottom: 20,\n  },\n  container: {\n    paddingTop: 30,\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: \"600\",\n  },\n  listContainer: {\n    padding: 20,\n  }\n});\n"]},"metadata":{},"sourceType":"module"}